2024-06-03 16:52:12.519 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 16:52:14.273 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-03 16:52:14.359 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-03 16:52:14.405 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-03 16:52:14.409 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-03 16:52:14.498 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-03 16:52:14.532 +03:00 [INF] Applying migration '20240603135155_InitialCreate88'.
2024-06-03 16:52:15.125 +03:00 [INF] Executed DbCommand (290ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-06-03 16:52:15.163 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [CorporationId] int NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-06-03 16:52:15.457 +03:00 [INF] Executed DbCommand (293ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [City] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [CreationDate] datetime2 NULL,
    [ModificationDate] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifyiedBy] nvarchar(max) NULL,
    [CreatedByTeam] nvarchar(max) NULL,
    [ModifyiedByTeam] nvarchar(max) NULL,
    [IsDeleted] bit NULL,
    [IsEnabled] bit NULL,
    CONSTRAINT [PK_City] PRIMARY KEY ([Id])
);
2024-06-03 16:52:15.857 +03:00 [INF] Executed DbCommand (400ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ReservationStatus] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [CreationDate] datetime2 NULL,
    [ModificationDate] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifyiedBy] nvarchar(max) NULL,
    [CreatedByTeam] nvarchar(max) NULL,
    [ModifyiedByTeam] nvarchar(max) NULL,
    [IsDeleted] bit NULL,
    [IsEnabled] bit NULL,
    CONSTRAINT [PK_ReservationStatus] PRIMARY KEY ([Id])
);
2024-06-03 16:52:15.893 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [User] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(max) NULL,
    [NormalizedUserName] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [NormalizedEmail] nvarchar(max) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_User] PRIMARY KEY ([Id])
);
2024-06-03 16:52:15.998 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.004 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.066 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.073 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.149 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.491 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotel] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [ContactNumber] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    [CityId] int NOT NULL,
    [CreationDate] datetime2 NULL,
    [ModificationDate] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifyiedBy] nvarchar(max) NULL,
    [CreatedByTeam] nvarchar(max) NULL,
    [ModifyiedByTeam] nvarchar(max) NULL,
    [IsDeleted] bit NULL,
    [IsEnabled] bit NULL,
    CONSTRAINT [PK_Hotel] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Hotel_City_CityId] FOREIGN KEY ([CityId]) REFERENCES [City] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.499 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [HotelUser] (
    [Id] int NOT NULL IDENTITY,
    [HotelId] int NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [CreationDate] datetime2 NULL,
    [ModificationDate] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifyiedBy] nvarchar(max) NULL,
    [CreatedByTeam] nvarchar(max) NULL,
    [ModifyiedByTeam] nvarchar(max) NULL,
    [IsDeleted] bit NULL,
    [IsEnabled] bit NULL,
    CONSTRAINT [PK_HotelUser] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_HotelUser_Hotel_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotel] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_HotelUser_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.511 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Room] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [NumberOfBeds] int NOT NULL,
    [Price] int NOT NULL,
    [HotelId] int NOT NULL,
    [CreationDate] datetime2 NULL,
    [ModificationDate] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifyiedBy] nvarchar(max) NULL,
    [CreatedByTeam] nvarchar(max) NULL,
    [ModifyiedByTeam] nvarchar(max) NULL,
    [IsDeleted] bit NULL,
    [IsEnabled] bit NULL,
    CONSTRAINT [PK_Room] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Room_Hotel_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotel] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.541 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reservations] (
    [Id] int NOT NULL IDENTITY,
    [DateFrom] datetime2 NOT NULL,
    [DateTo] datetime2 NOT NULL,
    [Note] nvarchar(max) NOT NULL,
    [RegisteredUserId] nvarchar(450) NOT NULL,
    [RoomId] int NOT NULL,
    [ReservationStatusId] int NOT NULL,
    [CreationDate] datetime2 NULL,
    [ModificationDate] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifyiedBy] nvarchar(max) NULL,
    [CreatedByTeam] nvarchar(max) NULL,
    [ModifyiedByTeam] nvarchar(max) NULL,
    [IsDeleted] bit NULL,
    [IsEnabled] bit NULL,
    CONSTRAINT [PK_Reservations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Reservations_ReservationStatus_ReservationStatusId] FOREIGN KEY ([ReservationStatusId]) REFERENCES [ReservationStatus] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reservations_Room_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Room] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reservations_User_RegisteredUserId] FOREIGN KEY ([RegisteredUserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2024-06-03 16:52:16.567 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-06-03 16:52:16.604 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-06-03 16:52:19.663 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-06-03 16:52:19.669 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-06-03 16:52:19.672 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-06-03 16:52:19.714 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-06-03 16:52:19.730 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-06-03 16:52:19.733 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Hotel_CityId] ON [Hotel] ([CityId]);
2024-06-03 16:52:19.736 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_HotelUser_HotelId] ON [HotelUser] ([HotelId]);
2024-06-03 16:52:19.738 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_HotelUser_UserId] ON [HotelUser] ([UserId]);
2024-06-03 16:52:19.741 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reservations_RegisteredUserId] ON [Reservations] ([RegisteredUserId]);
2024-06-03 16:52:19.744 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reservations_ReservationStatusId] ON [Reservations] ([ReservationStatusId]);
2024-06-03 16:52:19.747 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reservations_RoomId] ON [Reservations] ([RoomId]);
2024-06-03 16:52:19.749 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Room_HotelId] ON [Room] ([HotelId]);
2024-06-03 16:52:19.753 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240603135155_InitialCreate88', N'8.0.6');
2024-06-03 16:54:52.836 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 16:54:54.307 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 16:54:55.236 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 16:54:57.014 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 16:54:57.022 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 16:54:57.026 +03:00 [INF] Hosting environment: Development
2024-06-03 16:54:57.029 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 16:54:59.841 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 16:55:01.946 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 16:55:02.823 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 3072.8408ms
2024-06-03 16:55:02.853 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 16:55:02.880 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 16:55:02.884 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 31.0992ms
2024-06-03 16:55:03.092 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 212.1417ms
2024-06-03 16:55:03.834 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 16:55:04.823 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 989.5602ms
2024-06-03 16:56:37.468 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/register - application/json-patch+json 85
2024-06-03 16:56:37.490 +03:00 [INF] CORS policy execution successful.
2024-06-03 16:56:37.500 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 16:56:37.747 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Hotel_Reservation.Models.RegisterUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 16:56:38.797 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-03 16:56:38.927 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) in 1155.578ms
2024-06-03 16:56:38.930 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 16:56:38.941 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/register - 400 260 application/problem+json; charset=utf-8 1473.1667ms
2024-06-03 16:56:52.675 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/register - application/json-patch+json 89
2024-06-03 16:56:52.693 +03:00 [INF] CORS policy execution successful.
2024-06-03 16:56:52.708 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 16:56:52.711 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Hotel_Reservation.Models.RegisterUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 16:56:54.510 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 16:57:01.763 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 16:57:04.291 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[@__normalizedEmail_0='TEST@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2024-06-03 16:57:19.287 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='TEST7NET' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 16:57:19.731 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='fd87b20d-03ea-4416-b1da-3e0760d707c4' (Nullable = false) (Size = 450), @p1='0', @p2='cbcd4eee-8b36-4dec-bcd8-3fc3aecf0760' (Size = 4000), @p3='test@gmail.com' (Size = 4000), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='TEST@GMAIL.COM' (Size = 4000), @p8='TEST7NET' (Size = 4000), @p9='AQAAAAIAAYagAAAAEAAuJp1kwEFHA8WYhLt1oMnywQcVxHqwNKCqs5luYZP9iJKWftCq5ibSIEmF9I6ZHA==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12='3EW2LHRGZVZAK7XT2N2DFCTSRH5E4QXT' (Size = 4000), @p13='False', @p14='test7net' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-03 16:57:39.469 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 16:57:39.485 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 16:57:39.851 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) in 47132.8299ms
2024-06-03 16:57:39.857 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 16:57:40.223 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Role REGISTERED USER does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at Hotel_Reservation.Controllers.AccountController.Register(RegisterUserDTO model) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\AccountController.cs:line 84
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hotel_Reservation.Extensions.GlobalExceptionHandler.ExceptionMiddleware.Invoke(HttpContext httpContext, IWebHostEnvironment env) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Extensions\GlobalExceptionHandler\ExceptionMiddleware.cs:line 28
2024-06-03 16:57:40.255 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/register - 500 null application/json 47579.6497ms
2024-06-03 17:01:18.689 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/register - application/json-patch+json 93
2024-06-03 17:01:18.694 +03:00 [INF] CORS policy execution successful.
2024-06-03 17:01:18.696 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 17:01:18.699 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Hotel_Reservation.Models.RegisterUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 17:01:18.768 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 17:01:25.350 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedEmail_0='TEST22@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2024-06-03 17:01:41.634 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='TEST7NET22' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 17:01:41.675 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='bd86ab1f-dcc7-493b-8486-c159909537c0' (Nullable = false) (Size = 450), @p1='0', @p2='ed07efd8-1400-42cd-acf0-b506931f6a86' (Size = 4000), @p3='test22@gmail.com' (Size = 4000), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='TEST22@GMAIL.COM' (Size = 4000), @p8='TEST7NET22' (Size = 4000), @p9='AQAAAAIAAYagAAAAEKUuhv7f/kxdKVyacIGoGOxt0ZznkakKlaUeo3nL4/Yt7NT6/RMpqw6wfa/raffQxQ==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12='QTFBOUQN6BSN4OHT5D2ULNNSV6WK6YAU' (Size = 4000), @p13='False', @p14='test7net22' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-03 17:01:56.061 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 17:01:56.127 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 17:01:56.314 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) in 37612.383ms
2024-06-03 17:01:56.318 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 17:01:56.578 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Role REGISTERED USER does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at Hotel_Reservation.Controllers.AccountController.Register(RegisterUserDTO model) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\AccountController.cs:line 84
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hotel_Reservation.Extensions.GlobalExceptionHandler.ExceptionMiddleware.Invoke(HttpContext httpContext, IWebHostEnvironment env) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Extensions\GlobalExceptionHandler\ExceptionMiddleware.cs:line 28
2024-06-03 17:01:56.599 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/register - 500 null application/json 37909.219ms
2024-06-03 17:18:03.838 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 17:18:06.360 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 17:18:06.607 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 17:18:07.187 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 17:18:07.198 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 17:18:07.212 +03:00 [INF] Hosting environment: Development
2024-06-03 17:18:07.266 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 17:18:08.895 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 17:18:10.173 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 17:18:10.810 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 1931.3374ms
2024-06-03 17:18:10.873 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 17:18:10.899 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 17:18:10.940 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 41.0552ms
2024-06-03 17:18:11.073 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 200.4606ms
2024-06-03 17:18:11.816 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 17:18:12.302 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 486.0879ms
2024-06-03 17:18:35.617 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/register - application/json-patch+json 92
2024-06-03 17:18:35.661 +03:00 [INF] CORS policy execution successful.
2024-06-03 17:18:35.700 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 17:18:35.797 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Hotel_Reservation.Models.RegisterUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 17:18:37.113 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 17:18:56.407 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 17:19:25.763 +03:00 [ERR] An error occurred using the connection to database 'Hotels' on server '.'.
2024-06-03 17:19:25.856 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Reservation.Core.EFContext.DatabaseContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: SSL Provider, error: 0 - The wait operation timed out.)
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.WaitForSSLHandShakeToComplete(UInt32& error, Int32& protocolVersion)
   at Microsoft.Data.SqlClient.TdsParser.EnableSsl(UInt32 info, SqlConnectionEncryptOption encrypt, Boolean integratedSecurity, String serverCertificateFilename)
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, TimeoutTimer timeout, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6f7edbdb-362f-4bfa-bea1-e107313f0db8
Error Number:258,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: SSL Provider, error: 0 - The wait operation timed out.)
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.WaitForSSLHandShakeToComplete(UInt32& error, Int32& protocolVersion)
   at Microsoft.Data.SqlClient.TdsParser.EnableSsl(UInt32 info, SqlConnectionEncryptOption encrypt, Boolean integratedSecurity, String serverCertificateFilename)
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, TimeoutTimer timeout, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6f7edbdb-362f-4bfa-bea1-e107313f0db8
Error Number:258,State:0,Class:20
2024-06-03 17:19:26.102 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) in 50296.1326ms
2024-06-03 17:19:26.105 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 17:19:26.531 +03:00 [ERR] Something went wrong: Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: SSL Provider, error: 0 - The wait operation timed out.)
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.WaitForSSLHandShakeToComplete(UInt32& error, Int32& protocolVersion)
   at Microsoft.Data.SqlClient.TdsParser.EnableSsl(UInt32 info, SqlConnectionEncryptOption encrypt, Boolean integratedSecurity, String serverCertificateFilename)
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, TimeoutTimer timeout, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Hotel_Reservation.Controllers.AccountController.Register(RegisterUserDTO model) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\AccountController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hotel_Reservation.Extensions.GlobalExceptionHandler.ExceptionMiddleware.Invoke(HttpContext httpContext, IWebHostEnvironment env) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Extensions\GlobalExceptionHandler\ExceptionMiddleware.cs:line 28
ClientConnectionId:6f7edbdb-362f-4bfa-bea1-e107313f0db8
Error Number:258,State:0,Class:20
2024-06-03 17:19:26.638 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/register - 500 null application/json 51021.0879ms
2024-06-03 17:20:14.032 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/register - application/json-patch+json 92
2024-06-03 17:20:14.045 +03:00 [INF] CORS policy execution successful.
2024-06-03 17:20:14.047 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 17:20:14.049 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Hotel_Reservation.Models.RegisterUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 17:20:14.116 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 17:20:21.748 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__normalizedEmail_0='KAREEEM@NET3000.CA' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2024-06-03 17:20:26.312 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 17:20:26.800 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@p0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Nullable = false) (Size = 450), @p1='0', @p2='4386fa84-e849-4599-a3f9-ed70b3429faf' (Size = 4000), @p3='kareeem@net3000.ca' (Size = 4000), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='KAREEEM@NET3000.CA' (Size = 4000), @p8='KEMO777' (Size = 4000), @p9='AQAAAAIAAYagAAAAEMaicUynx1s7NrJDKo37iHya6As/s4M0ir8hy7C9em1x1nB9MqR6m+SOQTVNxAHsAA==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12='U6XKFENWWW3DUS6VBENTFSOF6KSYHJOW' (Size = 4000), @p13='False', @p14='kemo777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-06-03 17:21:44.876 +03:00 [INF] Executed DbCommand (134ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 17:21:44.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 17:21:45.108 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation) in 91055.6881ms
2024-06-03 17:21:45.111 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Register (Hotel-Reservation)'
2024-06-03 17:21:45.271 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Role REGISTERED USER does not exist.
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.AddToRoleAsync(TUser user, String normalizedRoleName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.AddToRoleAsync(TUser user, String role)
   at Hotel_Reservation.Controllers.AccountController.Register(RegisterUserDTO model) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\AccountController.cs:line 84
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hotel_Reservation.Extensions.GlobalExceptionHandler.ExceptionMiddleware.Invoke(HttpContext httpContext, IWebHostEnvironment env) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Extensions\GlobalExceptionHandler\ExceptionMiddleware.cs:line 28
2024-06-03 17:21:45.284 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/register - 500 null application/json 91264.6693ms
2024-06-03 17:25:21.242 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 17:25:21.280 +03:00 [INF] CORS policy execution successful.
2024-06-03 17:25:21.288 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 17:25:21.299 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 17:25:21.356 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 17:25:21.433 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 17:25:21.733 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 17:25:22.210 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 908.0664ms
2024-06-03 17:25:22.213 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 17:25:22.398 +03:00 [ERR] Something went wrong: System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '208' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at Hotel_Reservation.Controllers.AccountController.CreateTokenAsync(User user) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\AccountController.cs:line 189
   at Hotel_Reservation.Controllers.AccountController.Login(LoginUserDTO model) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\AccountController.cs:line 40
   at lambda_method244(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hotel_Reservation.Extensions.GlobalExceptionHandler.ExceptionMiddleware.Invoke(HttpContext httpContext, IWebHostEnvironment env) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Extensions\GlobalExceptionHandler\ExceptionMiddleware.cs:line 28
2024-06-03 17:25:22.415 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 500 null application/json 1173.4252ms
2024-06-03 17:27:46.494 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 17:27:47.095 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 17:27:47.164 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 17:27:47.881 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 17:27:48.325 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 17:27:48.330 +03:00 [INF] Hosting environment: Development
2024-06-03 17:27:48.334 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 17:27:53.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 17:27:54.267 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 17:27:54.730 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 981.9909ms
2024-06-03 17:27:56.527 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 17:27:56.542 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 16.3951ms
2024-06-03 17:27:56.591 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 17:27:56.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.1224ms
2024-06-03 17:27:57.736 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 17:27:58.017 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 281.8645ms
2024-06-03 17:30:02.164 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 17:30:02.176 +03:00 [INF] CORS policy execution successful.
2024-06-03 17:30:02.186 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 17:30:02.242 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 17:30:03.028 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 17:30:03.998 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 17:30:05.488 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 17:30:05.942 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 17:30:06.045 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 17:30:06.061 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 17:30:06.074 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 17:30:06.084 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 17:30:06.098 +03:00 [INF] Executed action method Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3059.3382ms.
2024-06-03 17:30:06.128 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 17:30:06.191 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 3939.0255ms
2024-06-03 17:30:06.194 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 17:30:06.224 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 4065.1209ms
2024-06-03 18:48:28.496 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 18:48:30.273 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 18:48:30.509 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 18:48:30.945 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 18:48:30.951 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 18:48:30.953 +03:00 [INF] Hosting environment: Development
2024-06-03 18:48:30.955 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 18:48:32.380 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 18:48:33.212 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 18:48:34.020 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 1656.0623ms
2024-06-03 18:48:34.365 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 18:48:34.374 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 18:48:34.381 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.406ms
2024-06-03 18:48:34.839 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 473.3183ms
2024-06-03 18:48:35.431 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 18:48:36.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1104.0888ms
2024-06-03 18:49:04.911 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 18:49:04.953 +03:00 [INF] CORS policy execution successful.
2024-06-03 18:49:05.014 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 18:49:05.187 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 18:49:08.420 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 18:49:11.171 +03:00 [INF] Executed DbCommand (140ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 18:49:11.738 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 18:49:11.948 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:49:11.956 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:49:11.963 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:49:11.967 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:49:11.980 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 18:49:12.150 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 6952.2008ms
2024-06-03 18:49:12.153 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 18:49:12.198 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 7287.3482ms
2024-06-03 18:53:25.988 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 18:53:26.415 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 18:53:26.470 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 18:53:26.531 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 18:53:26.541 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 18:53:26.543 +03:00 [INF] Hosting environment: Development
2024-06-03 18:53:26.544 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 18:53:27.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 18:53:27.795 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 18:53:28.625 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 1489.7085ms
2024-06-03 18:53:28.660 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 18:53:28.661 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 18:53:28.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.3787ms
2024-06-03 18:53:28.754 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.3476ms
2024-06-03 18:53:30.170 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 18:53:30.646 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 475.6516ms
2024-06-03 18:56:39.876 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 18:56:39.897 +03:00 [INF] CORS policy execution successful.
2024-06-03 18:56:39.973 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 18:56:40.586 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 18:56:42.333 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 18:56:43.699 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 18:56:43.983 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 18:56:44.058 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:56:44.078 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:56:44.085 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:56:44.092 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:56:44.110 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 18:56:44.160 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 3512.0256ms
2024-06-03 18:56:44.163 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 18:56:44.190 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 4313.2736ms
2024-06-03 18:57:14.028 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - application/json-patch+json 102
2024-06-03 18:57:14.038 +03:00 [INF] CORS policy execution successful.
2024-06-03 18:57:14.075 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-03 18:57:14.101 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-03 18:57:14.102 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - 401 0 null 74.817ms
2024-06-03 18:57:59.389 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 18:57:59.394 +03:00 [INF] CORS policy execution successful.
2024-06-03 18:57:59.464 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there are there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-03 18:57:59.577 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-03 18:57:59.580 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 18:57:59.581 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 18:57:59.599 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 18:57:59.765 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 18:57:59.778 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:57:59.784 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:57:59.792 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:57:59.798 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 18:57:59.806 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 18:57:59.809 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 224.5911ms
2024-06-03 18:57:59.813 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 18:57:59.815 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 426.5716ms
2024-06-03 18:58:19.147 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - application/json-patch+json 102
2024-06-03 18:58:19.152 +03:00 [INF] CORS policy execution successful.
2024-06-03 18:58:19.155 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there are there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-03 18:58:19.163 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-03 18:58:19.167 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-03 18:58:19.171 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-03 18:58:19.173 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - 401 0 null 26.1493ms
2024-06-03 19:00:39.696 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - application/json-patch+json 102
2024-06-03 19:00:39.703 +03:00 [INF] CORS policy execution successful.
2024-06-03 19:00:39.706 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there are there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-03 19:00:39.718 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-03 19:00:39.730 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-03 19:00:39.733 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-03 19:00:39.734 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - 401 0 null 38.2595ms
2024-06-03 19:00:48.468 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - application/json-patch+json 102
2024-06-03 19:00:48.474 +03:00 [INF] CORS policy execution successful.
2024-06-03 19:00:48.476 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there are there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-03 19:00:48.484 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-03 19:00:48.493 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-03 19:00:48.496 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-03 19:00:48.498 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - 401 0 null 30.1807ms
2024-06-03 19:00:49.293 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - application/json-patch+json 102
2024-06-03 19:00:49.295 +03:00 [INF] CORS policy execution successful.
2024-06-03 19:00:49.297 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there are there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-03 19:00:49.340 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-03 19:00:49.344 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-03 19:00:49.345 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-03 19:00:49.346 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - 401 0 null 53.4287ms
2024-06-03 19:02:21.902 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 19:02:22.144 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 19:02:22.181 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 19:02:22.205 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 19:02:22.209 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 19:02:22.211 +03:00 [INF] Hosting environment: Development
2024-06-03 19:02:22.212 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 19:02:22.548 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 19:02:22.643 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 19:02:22.841 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 294.1955ms
2024-06-03 19:02:22.998 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 19:02:23.006 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.1942ms
2024-06-03 19:02:23.007 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 19:02:23.087 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.3816ms
2024-06-03 19:02:24.007 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 19:02:24.251 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 243.5144ms
2024-06-03 19:02:55.451 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 19:02:55.466 +03:00 [INF] CORS policy execution successful.
2024-06-03 19:02:55.477 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 19:02:55.507 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 19:02:56.888 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 19:02:57.767 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 19:02:58.000 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 19:02:58.043 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 19:02:58.054 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 19:02:58.062 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 19:02:58.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 19:02:58.081 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 19:02:58.122 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 2603.4246ms
2024-06-03 19:02:58.126 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 19:02:58.146 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 528 application/json; charset=utf-8 2695.7027ms
2024-06-03 19:04:34.952 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - application/json-patch+json 104
2024-06-03 19:04:34.960 +03:00 [INF] CORS policy execution successful.
2024-06-03 19:04:34.985 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-03 19:04:34.990 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-03 19:04:34.995 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - 401 0 null 42.9318ms
2024-06-03 19:04:57.818 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - application/json-patch+json 104
2024-06-03 19:04:57.861 +03:00 [INF] CORS policy execution successful.
2024-06-03 19:04:57.881 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there are there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-03 19:04:57.895 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-03 19:04:57.898 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-03 19:04:57.902 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-03 19:04:57.904 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation - 401 0 null 86.9095ms
2024-06-03 19:16:12.124 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 19:16:12.137 +03:00 [INF] CORS policy execution successful.
2024-06-03 19:16:12.139 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there are there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-03 19:16:12.147 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-03 19:16:12.150 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 19:16:12.153 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 19:16:12.215 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 19:16:12.512 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 19:16:12.539 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 19:16:12.557 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 19:16:12.567 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 19:16:12.576 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 19:16:12.582 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 19:16:12.586 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 429.2534ms
2024-06-03 19:16:12.595 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 19:16:12.598 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 475.9488ms
2024-06-03 19:22:23.730 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 19:22:36.340 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 19:22:37.466 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 19:22:39.656 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 19:22:39.672 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 19:22:39.680 +03:00 [INF] Hosting environment: Development
2024-06-03 19:22:39.688 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 19:22:43.498 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 19:22:45.581 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 19:22:47.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 3890.655ms
2024-06-03 19:22:47.506 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 19:22:47.596 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 19:22:47.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 59.6718ms
2024-06-03 19:22:47.898 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 392.1248ms
2024-06-03 19:22:50.711 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 19:22:51.735 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1024.3651ms
2024-06-03 19:44:29.412 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 19:44:29.487 +03:00 [INF] CORS policy execution successful.
2024-06-03 19:44:29.557 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14121: JWT is not a well formed JWE, there are there must be four dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-03 19:44:29.664 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-03 19:44:29.687 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 19:44:29.806 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 19:44:32.041 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 19:44:35.066 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 19:44:37.625 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 19:48:06.145 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 20:00:59.285 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 20:00:59.777 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:00:59.826 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:00:59.873 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 20:00:59.882 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 20:00:59.884 +03:00 [INF] Hosting environment: Development
2024-06-03 20:00:59.886 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 20:01:06.596 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 20:01:07.668 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 20:01:08.312 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 1718.7008ms
2024-06-03 20:01:08.569 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 20:01:08.948 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 20:01:08.960 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 12.0025ms
2024-06-03 20:01:09.229 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 659.7021ms
2024-06-03 20:01:09.992 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 20:01:10.775 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 782.8055ms
2024-06-03 20:03:00.416 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 20:03:00.438 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:03:00.447 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 20:03:00.507 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 20:03:03.875 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 20:03:06.523 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 20:03:07.146 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 20:03:07.357 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:03:07.528 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:03:07.536 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:03:07.544 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:03:07.578 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 20:03:07.688 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 7166.9656ms
2024-06-03 20:03:07.705 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 20:03:07.736 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 7320.293ms
2024-06-03 20:28:36.629 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 20:28:37.274 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:28:37.325 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:28:37.412 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 20:28:37.424 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 20:28:37.425 +03:00 [INF] Hosting environment: Development
2024-06-03 20:28:37.427 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 20:28:37.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 20:28:38.176 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 20:28:38.936 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 1069.9432ms
2024-06-03 20:28:39.190 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 20:28:39.199 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.9809ms
2024-06-03 20:28:39.309 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 20:28:39.490 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.0265ms
2024-06-03 20:28:45.447 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 20:28:45.762 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 315.3583ms
2024-06-03 20:42:20.643 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 20:42:21.306 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:42:21.556 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:42:21.648 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 20:42:21.673 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 20:42:21.686 +03:00 [INF] Hosting environment: Development
2024-06-03 20:42:21.693 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 20:42:22.312 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 20:42:22.483 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 20:42:22.893 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 575.3448ms
2024-06-03 20:42:22.903 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 20:42:22.905 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 20:42:22.955 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 52.0397ms
2024-06-03 20:42:23.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 260.4867ms
2024-06-03 20:42:24.004 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 20:42:24.608 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 603.6978ms
2024-06-03 20:42:56.026 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 20:42:56.051 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:42:56.087 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 20:42:56.173 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 20:42:59.618 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 20:43:02.467 +03:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 20:43:03.214 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 20:43:03.379 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:43:03.398 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:43:03.404 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:43:03.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:43:03.433 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 20:43:03.520 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 7330.4121ms
2024-06-03 20:43:03.526 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 20:43:03.568 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 7541.7297ms
2024-06-03 20:43:51.598 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomid=9 - application/json 108
2024-06-03 20:43:51.604 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:43:51.641 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-03 20:43:51.710 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-03 20:43:51.714 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomid=9 - 401 0 null 118.0953ms
2024-06-03 20:45:05.129 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 20:45:05.582 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:45:05.650 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:45:05.699 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 20:45:05.707 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 20:45:05.709 +03:00 [INF] Hosting environment: Development
2024-06-03 20:45:05.711 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 20:45:06.208 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 20:45:06.735 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 20:45:07.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 935.3634ms
2024-06-03 20:45:07.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 20:45:07.249 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 10.7573ms
2024-06-03 20:45:07.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 20:45:07.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.3755ms
2024-06-03 20:45:10.040 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 20:45:10.409 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 368.8581ms
2024-06-03 20:48:00.147 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 20:48:00.166 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:48:00.177 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 20:48:00.220 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 20:48:02.884 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 20:48:05.172 +03:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 20:48:05.774 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 20:48:05.871 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:48:05.899 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:48:05.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:48:05.918 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 20:48:05.944 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 20:48:06.050 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 5812.7269ms
2024-06-03 20:48:06.055 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 20:48:06.124 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 5976.2771ms
2024-06-03 20:48:29.736 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomid=9 - application/json 108
2024-06-03 20:48:29.745 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:48:29.920 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:48:29.953 +03:00 [INF] Route matched with {action = "AddReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddReservation(Int32, Hotel_Reservation.Models.ReservationDTO) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 20:48:30.485 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-03 20:48:30.584 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) in 625.9783ms
2024-06-03 20:48:30.587 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:48:30.590 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomid=9 - 400 443 application/problem+json; charset=utf-8 853.92ms
2024-06-03 20:49:06.977 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomid=9 - application/json 108
2024-06-03 20:49:06.982 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:49:06.994 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:49:06.997 +03:00 [INF] Route matched with {action = "AddReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddReservation(Int32, Hotel_Reservation.Models.ReservationDTO) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 20:49:07.032 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-03 20:49:07.038 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) in 34.6525ms
2024-06-03 20:49:07.040 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:49:07.043 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomid=9 - 400 282 application/problem+json; charset=utf-8 65.7038ms
2024-06-03 20:49:21.000 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomid=9 - application/json 108
2024-06-03 20:49:21.008 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:49:21.017 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:49:21.023 +03:00 [INF] Route matched with {action = "AddReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddReservation(Int32, Hotel_Reservation.Models.ReservationDTO) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 20:49:21.257 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 20:49:21.608 +03:00 [INF] Executed DbCommand (107ms) [Parameters=[@__p_0='0'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[HotelId], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Name], [r].[NumberOfBeds], [r].[Price]
FROM [Room] AS [r]
WHERE [r].[Id] = @__p_0
2024-06-03 20:49:21.659 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) in 628.6935ms
2024-06-03 20:49:21.662 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:49:21.853 +03:00 [ERR] Something went wrong: System.NullReferenceException: The room that you requested does not exist.
   at Hotel_Reservation.Controllers.ReservationsController.AddReservation(Int32 roomId, ReservationDTO model) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\ReservationsController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hotel_Reservation.Extensions.GlobalExceptionHandler.ExceptionMiddleware.Invoke(HttpContext httpContext, IWebHostEnvironment env) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Extensions\GlobalExceptionHandler\ExceptionMiddleware.cs:line 28
2024-06-03 20:49:21.888 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomid=9 - 500 null application/json 887.9092ms
2024-06-03 20:49:59.785 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - application/json 108
2024-06-03 20:50:00.303 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:50:00.364 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:50:00.394 +03:00 [INF] Route matched with {action = "AddReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddReservation(Int32, Hotel_Reservation.Models.ReservationDTO) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 20:50:00.419 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 20:50:00.482 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='0'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[HotelId], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Name], [r].[NumberOfBeds], [r].[Price]
FROM [Room] AS [r]
WHERE [r].[Id] = @__p_0
2024-06-03 20:50:00.489 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) in 89.0685ms
2024-06-03 20:50:00.494 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:50:00.499 +03:00 [ERR] Something went wrong: System.NullReferenceException: The room that you requested does not exist.
   at Hotel_Reservation.Controllers.ReservationsController.AddReservation(Int32 roomId, ReservationDTO model) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\ReservationsController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hotel_Reservation.Extensions.GlobalExceptionHandler.ExceptionMiddleware.Invoke(HttpContext httpContext, IWebHostEnvironment env) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Extensions\GlobalExceptionHandler\ExceptionMiddleware.cs:line 28
2024-06-03 20:50:00.528 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - 500 null application/json 742.8258ms
2024-06-03 20:50:44.887 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 20:50:47.670 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:50:47.826 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:50:48.894 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 20:50:48.915 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 20:50:48.922 +03:00 [INF] Hosting environment: Development
2024-06-03 20:50:48.929 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 20:50:57.957 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - application/json 108
2024-06-03 20:50:58.504 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 20:50:59.123 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 20:50:59.223 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:51:01.859 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:51:02.194 +03:00 [INF] Route matched with {action = "AddReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddReservation(Int32, Hotel_Reservation.Models.ReservationDTO) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 20:51:02.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 3448.3798ms
2024-06-03 20:51:02.723 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 20:51:02.732 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 20:51:02.868 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 145.5079ms
2024-06-03 20:51:04.692 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1965.3412ms
2024-06-03 20:51:06.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 20:51:06.266 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 20:52:54.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107976.0595ms
2024-06-03 20:52:56.987 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 20:53:00.366 +03:00 [INF] Executed DbCommand (166ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 20:53:22.613 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='9'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[HotelId], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Name], [r].[NumberOfBeds], [r].[Price]
FROM [Room] AS [r]
WHERE [r].[Id] = @__p_0
2024-06-03 20:53:48.069 +03:00 [ERR] Failed executing DbCommand (2,770ms) [Parameters=[@p0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Nullable = false) (Size = 450), @p1='0', @p2='4386fa84-e849-4599-a3f9-ed70b3429faf' (Size = 4000), @p3='kareeem@net3000.ca' (Size = 4000), @p4='True', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='KAREEEM@NET3000.CA' (Size = 4000), @p8='KEMO777' (Size = 4000), @p9='AQAAAAIAAYagAAAAEMaicUynx1s7NrJDKo37iHya6As/s4M0ir8hy7C9em1x1nB9MqR6m+SOQTVNxAHsAA==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12='U6XKFENWWW3DUS6VBENTFSOF6KSYHJOW' (Size = 4000), @p13='False', @p14='kemo777' (Size = 4000), @p15=NULL (Size = 4000), @p16=NULL (Size = 4000), @p17='2024-06-03T20:53:29.4896703+03:00' (Nullable = true), @p18='2024-07-03T16:04:30.1010000Z', @p19='2024-08-08T16:04:30.1010000Z', @p20='False' (Nullable = true), @p21='True' (Nullable = true), @p22='2024-06-03T20:53:44.3258137+03:00' (Nullable = true), @p23=NULL (Size = 4000), @p24=NULL (Size = 4000), @p25='string' (Nullable = false) (Size = 4000), @p26='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Nullable = false) (Size = 450), @p27='1', @p28='9'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [Reservations] ([CreatedBy], [CreatedByTeam], [CreationDate], [DateFrom], [DateTo], [IsDeleted], [IsEnabled], [ModificationDate], [ModifyiedBy], [ModifyiedByTeam], [Note], [RegisteredUserId], [ReservationStatusId], [RoomId])
OUTPUT INSERTED.[Id]
VALUES (@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-06-03 20:53:48.213 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Reservation.Core.EFContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_User'. Cannot insert duplicate key in object 'dbo.User'. The duplicate key value is (828e8dcc-8c19-4ef1-a5b7-3cf69c807259).
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_ReservationStatus_ReservationStatusId". The conflict occurred in database "Hotels", table "dbo.ReservationStatus", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:bceb14ab-16bb-4aad-8318-76a8ef7d4b69
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_User'. Cannot insert duplicate key in object 'dbo.User'. The duplicate key value is (828e8dcc-8c19-4ef1-a5b7-3cf69c807259).
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_ReservationStatus_ReservationStatusId". The conflict occurred in database "Hotels", table "dbo.ReservationStatus", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:bceb14ab-16bb-4aad-8318-76a8ef7d4b69
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-06-03 20:54:55.735 +03:00 [INF] Executed action method Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 229449.0642ms.
2024-06-03 20:54:55.768 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-03 20:54:55.975 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) in 233689.8623ms
2024-06-03 20:54:56.144 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:54:56.210 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - 200 115 application/json; charset=utf-8 238433.8572ms
2024-06-03 20:56:04.659 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 20:56:05.275 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:56:05.327 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:56:05.367 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 20:56:05.375 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 20:56:05.376 +03:00 [INF] Hosting environment: Development
2024-06-03 20:56:05.378 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 20:56:06.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 20:56:06.532 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 20:56:06.999 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 823.9736ms
2024-06-03 20:56:07.030 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 20:56:07.045 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.3454ms
2024-06-03 20:56:07.098 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 20:56:07.326 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 227.5901ms
2024-06-03 20:56:08.340 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 20:56:08.946 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 605.8808ms
2024-06-03 20:56:43.233 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - application/json 108
2024-06-03 20:56:43.257 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:56:43.429 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:56:43.505 +03:00 [INF] Route matched with {action = "AddReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddReservation(Int32, Hotel_Reservation.Models.ReservationDTO) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 20:56:46.519 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 20:56:48.670 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 20:56:49.011 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='0'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[HotelId], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Name], [r].[NumberOfBeds], [r].[Price]
FROM [Room] AS [r]
WHERE [r].[Id] = @__p_0
2024-06-03 20:56:49.056 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) in 5530.3996ms
2024-06-03 20:56:49.070 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:56:49.151 +03:00 [ERR] Something went wrong: System.NullReferenceException: The room that you requested does not exist.
   at Hotel_Reservation.Controllers.ReservationsController.AddReservation(Int32 roomId, ReservationDTO model) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Controllers\ReservationsController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hotel_Reservation.Extensions.GlobalExceptionHandler.ExceptionMiddleware.Invoke(HttpContext httpContext, IWebHostEnvironment env) in C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\Extensions\GlobalExceptionHandler\ExceptionMiddleware.cs:line 28
2024-06-03 20:56:49.265 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - 500 null application/json 6031.5421ms
2024-06-03 20:57:15.236 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 20:57:15.655 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:57:15.719 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:57:15.769 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 20:57:15.778 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 20:57:15.780 +03:00 [INF] Hosting environment: Development
2024-06-03 20:57:15.782 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 20:57:16.478 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 20:57:16.696 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 20:57:17.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 712.1475ms
2024-06-03 20:57:17.421 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 20:57:17.440 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.9066ms
2024-06-03 20:57:17.593 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 20:57:17.661 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.6901ms
2024-06-03 20:57:19.277 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 20:57:19.662 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 384.8478ms
2024-06-03 20:57:20.843 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - application/json 108
2024-06-03 20:57:20.858 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:57:21.050 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:57:21.117 +03:00 [INF] Route matched with {action = "AddReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddReservation(Int32, Hotel_Reservation.Models.ReservationDTO) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 20:57:23.839 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 20:57:25.845 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 20:57:26.166 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='9'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[HotelId], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Name], [r].[NumberOfBeds], [r].[Price]
FROM [Room] AS [r]
WHERE [r].[Id] = @__p_0
2024-06-03 20:57:26.808 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@p0=NULL (Size = 4000), @p1=NULL (Size = 4000), @p2='2024-06-03T20:57:26.1934883+03:00' (Nullable = true), @p3='2024-07-03T16:04:30.1010000Z', @p4='2024-08-08T16:04:30.1010000Z', @p5='False' (Nullable = true), @p6='True' (Nullable = true), @p7='2024-06-03T20:57:26.1949741+03:00' (Nullable = true), @p8=NULL (Size = 4000), @p9=NULL (Size = 4000), @p10='string' (Nullable = false) (Size = 4000), @p11='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Nullable = false) (Size = 450), @p12='1', @p13='9'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreatedBy], [CreatedByTeam], [CreationDate], [DateFrom], [DateTo], [IsDeleted], [IsEnabled], [ModificationDate], [ModifyiedBy], [ModifyiedByTeam], [Note], [RegisteredUserId], [ReservationStatusId], [RoomId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-06-03 20:57:26.879 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Reservation.Core.EFContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_ReservationStatus_ReservationStatusId". The conflict occurred in database "Hotels", table "dbo.ReservationStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:c6c02ab0-ab41-48d7-a255-1459a355c825
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Reservations_ReservationStatus_ReservationStatusId". The conflict occurred in database "Hotels", table "dbo.ReservationStatus", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:c6c02ab0-ab41-48d7-a255-1459a355c825
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-06-03 20:57:26.971 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-03 20:57:27.051 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) in 5919.5824ms
2024-06-03 20:57:27.063 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:57:27.111 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - 200 120 application/json; charset=utf-8 6267.4793ms
2024-06-03 20:57:51.107 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 20:57:52.024 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:57:52.124 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 20:57:52.295 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 20:57:52.307 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 20:57:52.312 +03:00 [INF] Hosting environment: Development
2024-06-03 20:57:52.317 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 20:57:53.143 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 20:57:53.795 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 20:57:54.750 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 1622.4701ms
2024-06-03 20:57:54.964 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 20:57:54.984 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 20:57:55.026 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 42.8875ms
2024-06-03 20:57:55.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 393.4033ms
2024-06-03 20:57:56.005 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 20:57:56.576 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 571.4845ms
2024-06-03 20:58:01.522 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - application/json 108
2024-06-03 20:58:01.539 +03:00 [INF] CORS policy execution successful.
2024-06-03 20:58:01.785 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 20:58:01.870 +03:00 [INF] Route matched with {action = "AddReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddReservation(Int32, Hotel_Reservation.Models.ReservationDTO) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 20:58:04.997 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 20:58:46.595 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 20:58:49.975 +03:00 [INF] Executed DbCommand (198ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 20:58:50.426 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='9'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[HotelId], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Name], [r].[NumberOfBeds], [r].[Price]
FROM [Room] AS [r]
WHERE [r].[Id] = @__p_0
2024-06-03 21:07:20.197 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0=NULL (Size = 4000), @p1=NULL (Size = 4000), @p2='2024-06-03T20:59:12.9404846+03:00' (Nullable = true), @p3='2024-07-03T16:04:30.1010000Z', @p4='2024-08-08T16:04:30.1010000Z', @p5='False' (Nullable = true), @p6='True' (Nullable = true), @p7='2024-06-03T21:07:19.4172971+03:00' (Nullable = true), @p8=NULL (Size = 4000), @p9=NULL (Size = 4000), @p10='string' (Nullable = false) (Size = 4000), @p11='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Nullable = false) (Size = 450), @p12='1', @p13='9'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([CreatedBy], [CreatedByTeam], [CreationDate], [DateFrom], [DateTo], [IsDeleted], [IsEnabled], [ModificationDate], [ModifyiedBy], [ModifyiedByTeam], [Note], [RegisteredUserId], [ReservationStatusId], [RoomId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-06-03 21:07:20.290 +03:00 [INF] Executed action method Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 555278.7596ms.
2024-06-03 21:07:20.316 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Reservation.Domain.Reservations, Reservation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-03 21:07:20.631 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation) in 558744.7002ms
2024-06-03 21:07:20.639 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.AddReservation (Hotel-Reservation)'
2024-06-03 21:07:20.693 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Reservations/addreservation?roomId=9 - 200 500 application/json; charset=utf-8 559170.7299ms
2024-06-03 21:32:11.239 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 21:32:11.850 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 21:32:11.905 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 21:32:11.942 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 21:32:11.950 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 21:32:11.953 +03:00 [INF] Hosting environment: Development
2024-06-03 21:32:11.955 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 21:32:13.621 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 21:32:14.102 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 21:32:14.639 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 1021.1679ms
2024-06-03 21:32:14.989 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 21:32:15.030 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 21:32:15.048 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 58.4368ms
2024-06-03 21:32:15.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 140.458ms
2024-06-03 21:32:16.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 21:32:16.840 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 411.1192ms
2024-06-03 21:32:44.074 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 21:32:44.085 +03:00 [INF] CORS policy execution successful.
2024-06-03 21:32:44.096 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 21:32:44.203 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 21:32:46.805 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 21:32:48.867 +03:00 [INF] Executed DbCommand (195ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 21:32:49.544 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 21:32:49.718 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 21:32:49.766 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 21:32:49.776 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 21:32:49.786 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 21:32:49.812 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 21:32:49.906 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 5688.791ms
2024-06-03 21:32:49.914 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 21:32:50.001 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 5927.2274ms
2024-06-03 21:33:17.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations - null null
2024-06-03 21:33:17.563 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:33:17.588 +03:00 [INF] Route matched with {action = "GetAllUserReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserReservations(Hotel_Reservation.Models.ReservationParameters) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 21:33:17.879 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-03 21:33:17.963 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation) in 366.1072ms
2024-06-03 21:33:17.970 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:33:17.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations - 400 268 application/problem+json; charset=utf-8 585.9136ms
2024-06-03 21:33:33.069 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations?ReservationStatus=1 - null null
2024-06-03 21:33:33.108 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:33:33.115 +03:00 [INF] Route matched with {action = "GetAllUserReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserReservations(Hotel_Reservation.Models.ReservationParameters) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 21:33:33.310 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 21:33:36.820 +03:00 [INF] Executed DbCommand (576ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__reservationParameters_ReservationStatus_1='1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Reservations] AS [r]
        INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
        WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Name] = @__reservationParameters_ReservationStatus_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-06-03 21:33:36.942 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__reservationParameters_ReservationStatus_1='1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reservations] AS [r]
INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Name] = @__reservationParameters_ReservationStatus_1
2024-06-03 21:33:36.954 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-03 21:33:36.959 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-03 21:33:36.991 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__reservationParameters_ReservationStatus_1='1' (Size = 4000), @__p_2='0', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[DateFrom], [r].[DateTo], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Note], [r].[RegisteredUserId], [r].[ReservationStatusId], [r].[RoomId]
FROM [Reservations] AS [r]
INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Name] = @__reservationParameters_ReservationStatus_1
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2024-06-03 21:33:37.001 +03:00 [INF] Executing OkObjectResult, writing value of type 'Hotel_Reservation.Models.PagedList`1[[Reservation.Domain.Reservations, Reservation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-03 21:33:37.010 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation) in 3849.9791ms
2024-06-03 21:33:37.013 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:33:37.024 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations?ReservationStatus=1 - 200 2 application/json; charset=utf-8 3954.3993ms
2024-06-03 21:34:23.201 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations?CreationDate=2024-06-03%2020%3A59%3A12.9404846&ReservationStatus=1&PageNumber=1&PageSize=24 - null null
2024-06-03 21:34:23.267 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:34:23.269 +03:00 [INF] Route matched with {action = "GetAllUserReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserReservations(Hotel_Reservation.Models.ReservationParameters) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 21:34:23.292 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 21:34:23.394 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__reservationParameters_ReservationStatus_1='1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Reservations] AS [r]
        INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
        WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Name] = @__reservationParameters_ReservationStatus_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-06-03 21:34:23.407 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__reservationParameters_ReservationStatus_1='1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reservations] AS [r]
INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Name] = @__reservationParameters_ReservationStatus_1
2024-06-03 21:34:23.428 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__reservationParameters_ReservationStatus_1='1' (Size = 4000), @__p_2='0', @__p_3='24'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[DateFrom], [r].[DateTo], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Note], [r].[RegisteredUserId], [r].[ReservationStatusId], [r].[RoomId]
FROM [Reservations] AS [r]
INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Name] = @__reservationParameters_ReservationStatus_1
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2024-06-03 21:34:23.435 +03:00 [INF] Executing OkObjectResult, writing value of type 'Hotel_Reservation.Models.PagedList`1[[Reservation.Domain.Reservations, Reservation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-03 21:34:23.437 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation) in 163.8325ms
2024-06-03 21:34:23.439 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:34:23.442 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations?CreationDate=2024-06-03%2020%3A59%3A12.9404846&ReservationStatus=1&PageNumber=1&PageSize=24 - 200 2 application/json; charset=utf-8 241.0767ms
2024-06-03 21:35:25.675 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 21:35:27.211 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 21:35:28.023 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 21:35:28.590 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 21:35:28.612 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 21:35:28.642 +03:00 [INF] Hosting environment: Development
2024-06-03 21:35:28.674 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 21:35:34.778 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 21:35:40.289 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 21:35:41.344 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 6585.2315ms
2024-06-03 21:35:41.520 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 21:35:41.616 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 21:35:41.829 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 309.5481ms
2024-06-03 21:35:42.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 559.25ms
2024-06-03 21:35:42.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 21:35:43.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 701.76ms
2024-06-03 21:38:02.379 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations?CreationDate=2024-06-03%2020%3A59%3A12.9404846&ReservationStatus=1&PageNumber=1&PageSize=24 - null null
2024-06-03 21:38:02.795 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:38:02.925 +03:00 [INF] Route matched with {action = "GetAllUserReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserReservations(Hotel_Reservation.Models.ReservationParameters) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 21:38:04.545 +03:00 [INF] Executing action method Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation) - Validation state: "Valid"
2024-06-03 21:38:12.331 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 21:38:15.425 +03:00 [INF] Executed DbCommand (233ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 21:38:25.443 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[DateFrom], [r].[DateTo], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Note], [r].[RegisteredUserId], [r].[ReservationStatusId], [r].[RoomId]
FROM [Reservations] AS [r]
WHERE [r].[RegisteredUserId] = @__user_Id_0
2024-06-03 21:39:30.496 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[DateFrom], [r].[DateTo], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Note], [r].[RegisteredUserId], [r].[ReservationStatusId], [r].[RoomId]
FROM [Reservations] AS [r]
WHERE [r].[RegisteredUserId] = @__user_Id_0
2024-06-03 21:39:54.855 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__reservationParameters_ReservationStatus_1='1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[DateFrom], [r].[DateTo], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Note], [r].[RegisteredUserId], [r].[ReservationStatusId], [r].[RoomId]
FROM [Reservations] AS [r]
INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Name] = @__reservationParameters_ReservationStatus_1
2024-06-03 21:40:35.042 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[DateFrom], [r].[DateTo], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Note], [r].[RegisteredUserId], [r].[ReservationStatusId], [r].[RoomId]
FROM [Reservations] AS [r]
WHERE [r].[RegisteredUserId] = @__user_Id_0
2024-06-03 21:42:33.770 +03:00 [INF] User profile is available. Using 'C:\Users\info\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-03 21:42:34.286 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 21:42:34.351 +03:00 [WRN] The WebRootPath was not found: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation\wwwroot. Static files may be unavailable.
2024-06-03 21:42:34.418 +03:00 [INF] Now listening on: http://localhost:5206
2024-06-03 21:42:34.426 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-03 21:42:34.428 +03:00 [INF] Hosting environment: Development
2024-06-03 21:42:34.430 +03:00 [INF] Content root path: C:\Users\info\source\repos\Hotel-Reservation\Hotel-Reservation
2024-06-03 21:42:35.039 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/index.html - null null
2024-06-03 21:42:35.546 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-03 21:42:36.069 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/index.html - 200 null text/html;charset=utf-8 1037.4197ms
2024-06-03 21:42:36.107 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - null null
2024-06-03 21:42:36.107 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/_vs/browserLink - null null
2024-06-03 21:42:36.119 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.1935ms
2024-06-03 21:42:36.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.0604ms
2024-06-03 21:42:37.358 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - null null
2024-06-03 21:42:37.881 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 522.1786ms
2024-06-03 21:42:59.091 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5206/api/Account/login - application/json-patch+json 59
2024-06-03 21:42:59.108 +03:00 [INF] CORS policy execution successful.
2024-06-03 21:42:59.138 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 21:42:59.199 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Hotel_Reservation.Models.LoginResponseDTO] Login(Hotel_Reservation.Models.LoginUserDTO) on controller Hotel_Reservation.Controllers.AccountController (Hotel-Reservation).
2024-06-03 21:43:01.409 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-06-03 21:43:03.052 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedUserName_0='KEMO777' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2024-06-03 21:43:03.535 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'UserRole'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-03 21:43:03.651 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedRoleName_0='REGISTERED USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 21:43:03.665 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='HOTEL MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 21:43:03.672 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 21:43:03.680 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SUPERADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'UserRole' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-03 21:43:03.703 +03:00 [INF] Executing ObjectResult, writing value of type 'Hotel_Reservation.Models.LoginResponseDTO'.
2024-06-03 21:43:03.788 +03:00 [INF] Executed action Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation) in 4576.1327ms
2024-06-03 21:43:03.793 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.AccountController.Login (Hotel-Reservation)'
2024-06-03 21:43:03.821 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5206/api/Account/login - 200 529 application/json; charset=utf-8 4730.5001ms
2024-06-03 21:44:27.969 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations?CreationDate=2024-06-03%2020%3A59%3A12.9404846&ReservationStatus=1&PageNumber=1&PageSize=12 - null null
2024-06-03 21:44:28.082 +03:00 [INF] Executing endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:44:28.100 +03:00 [INF] Route matched with {action = "GetAllUserReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserReservations(Hotel_Reservation.Models.ReservationParameters) on controller Hotel_Reservation.Controllers.ReservationsController (Hotel-Reservation).
2024-06-03 21:44:28.506 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [User] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-03 21:44:28.874 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__Parse_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Reservations] AS [r]
        INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
        WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Id] = @__Parse_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-06-03 21:44:35.034 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__Parse_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reservations] AS [r]
INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Id] = @__Parse_1
2024-06-03 21:44:35.122 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__user_Id_0='828e8dcc-8c19-4ef1-a5b7-3cf69c807259' (Size = 450), @__Parse_1='1', @__p_2='0', @__p_3='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedByTeam], [r].[CreationDate], [r].[DateFrom], [r].[DateTo], [r].[IsDeleted], [r].[IsEnabled], [r].[ModificationDate], [r].[ModifyiedBy], [r].[ModifyiedByTeam], [r].[Note], [r].[RegisteredUserId], [r].[ReservationStatusId], [r].[RoomId]
FROM [Reservations] AS [r]
INNER JOIN [ReservationStatus] AS [r0] ON [r].[ReservationStatusId] = [r0].[Id]
WHERE [r].[RegisteredUserId] = @__user_Id_0 AND [r0].[Id] = @__Parse_1
ORDER BY [r].[CreationDate]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2024-06-03 21:44:35.138 +03:00 [INF] Executing OkObjectResult, writing value of type 'Hotel_Reservation.Models.PagedList`1[[Reservation.Domain.Reservations, Reservation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-03 21:44:35.185 +03:00 [INF] Executed action Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation) in 7080.2014ms
2024-06-03 21:44:35.190 +03:00 [INF] Executed endpoint 'Hotel_Reservation.Controllers.ReservationsController.GetAllUserReservations (Hotel-Reservation)'
2024-06-03 21:44:35.203 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5206/api/Reservations/user-reservations?CreationDate=2024-06-03%2020%3A59%3A12.9404846&ReservationStatus=1&PageNumber=1&PageSize=12 - 200 459 application/json; charset=utf-8 7233.8886ms
